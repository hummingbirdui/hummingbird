---
import ArrowIcon from '@components/icons/ArrowIcon.astro';
import GradientBorderBox from '../common/GradientBorderBox.astro';
import type { JSComponent } from 'apps/data/landing/js-components';

interface Props {
  component: JSComponent;
  index: number;
  isLast: boolean;
}

const { component, index: i, isLast } = Astro.props;
const { color, image, title, description, link } = component;
---

<GradientBorderBox
  color={color}
  class={`${!((i - 1) % 3) ? 'sm:transform sm:-translate-y-20' : ''} ${isLast ? 'hidden sm:grid' : ''} `}
>
  <div class="card card-img-overlay w-38 sm:w-45 xl:w-50 aspect-square">
    <img src={image.light.src} class="card-img brightness-100 dark:hidden" alt={title} />
    <img src={image.dark.src} class="card-img brightness-100 hidden dark:flex" alt={title} />
    <div class="p-4 sm:p-5 xl:p-6 card-body flex flex-col items-start">
      <h4 class="mb-4 card-title text-lg sm:text-[21px] text-default font-medium">{title}</h4>
      <p class="mb-0 text-muted line-clamp-2 xl:line-clamp-none">{description}</p>
      <a href={link} class="mt-auto self-end">
        <button>
          <ArrowIcon class="text-default" />
        </button>
      </a>
    </div>
  </div>
</GradientBorderBox>
